<!DOCTYPE html>
<html>
  <head>
    <title>一个 DEMO</title>
  </head>
  <body>
    <form>
      <label for="">点的数量 <span id="pointers_text">15</span></label>
      <input type="range" name="" value="15" max="30" id="pointers">
      <label for="">时间</label>
      <input type="range" name="" value="60" max="" id="time">
    </form>
    <canvas id="canvas"></canvas>
    <script type="module">
      import Canvas from '../src/app.js'

      let $ = id => document.getElementById(id)

      const canvas = $('canvas')

      const stage = new Canvas({
        el: canvas,
        width: 800,
        height: 800,
        limit: 15,
        time: 30
      })

      const pointers = $('pointers')
      const time = $('time')
      let pointer_nums = pointers.value

      pointers.addEventListener('input', ({target: {value}}) => {
        setPointersText(value)
        setPointers(value)
      })

      function setPointers (value) {
        if (stage.pointers.length > value) {
          stage.delPointer()
          setPointers(value)
        }
        if (stage.pointers.length < value) {
          stage.addPointer()
          setPointers(value)
        }
      }

      const pointers_text = $('pointers_text')
      const setPointersText = val => $('pointers_text').innerHTML = val
    </script>
  </body>
</html>